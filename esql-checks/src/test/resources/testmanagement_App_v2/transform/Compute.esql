BROKER SCHEMA transform

CREATE COMPUTE MODULE Compute
	CREATE FUNCTION Main() RETURNS BOOLEAN
	BEGIN
		CALL CopyMessageHeaders();
		CALL CopyEntireMessage();
		RETURN TRUE;
	END;

	CREATE PROCEDURE CopyMessageHeaders() BEGIN
		PROPAGATE TO TERMINAL 'out1' DELETE NONE;
		PROPAGATE TO TERMINAL 'out2' DELETE NONE;
	END;

	CREATE PROCEDURE CopyEntireMessage() BEGIN
		PROPAGATE TO TERMINAL 0 DELETE NONE;
	END;
END MODULE;